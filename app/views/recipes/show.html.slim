/ Breadcrumb
.flex.items-center.gap-2.text-sm.text-navy/60.mb-6
  = link_to "Recettes", recipes_path, class: "hover:text-terracotta transition-colors"
  span /
  span.text-navy = @recipe.title

.grid.lg:grid-cols-3.gap-8

  / Main content
  .lg:col-span-2.space-y-8
    / Header card
    .card.overflow-hidden
      .bg-gradient-to-br.from-terracotta.to-terracotta-dark.p-8.text-white
        .flex.items-start.justify-between.gap-4
          div
            h1.font-display.font-bold.text-3xl.md:text-4xl.mb-4 = @recipe.title
            .flex.flex-wrap.gap-3
              - if @recipe.preparation_time
                .badge.bg-white/20.text-white
                  span.mr-1 â±ï¸
                  | #{@recipe.preparation_time} min
              .badge.bg-white/20.text-white
                span.mr-1 ğŸ¥•
                | #{@recipe.ingredients.size} ingrÃ©dients
              .badge.bg-white/20.text-white
                span.mr-1 ğŸ“
                | #{@recipe.steps.size} Ã©tapes

          / Favorite button
          = link_to toggle_favorite_recipe_path(@recipe), data: { turbo_method: :patch }, class: "flex-shrink-0 w-14 h-14 rounded-2xl flex items-center justify-center transition-all duration-200 #{@recipe.is_favorite? ? 'bg-white text-terracotta shadow-lg' : 'bg-white/20 text-white hover:bg-white/30'}"
            span.text-2xl = @recipe.is_favorite? ? 'â˜…' : 'â˜†'

    / Ingredients
    .card.p-8
      h2.section-title.flex.items-center.gap-3.mb-6
        .w-10.h-10.bg-sage/20.rounded-xl.flex.items-center.justify-center
          span ğŸ¥•
        | IngrÃ©dients

      ul.grid.sm:grid-cols-2.gap-3
        - @recipe.ingredients.each do |ingredient|
          li.flex.items-center.gap-3.p-3.bg-cream/50.rounded-xl.hover:bg-cream.transition-colors
            .w-6.h-6.bg-sage.rounded-full.flex.items-center.justify-center.text-white.text-xs âœ“
            span.text-navy = ingredient

    / Steps
    .card.p-8
      h2.section-title.flex.items-center.gap-3.mb-6
        .w-10.h-10.bg-mustard/30.rounded-xl.flex.items-center.justify-center
          span ğŸ“
        | Ã‰tapes de prÃ©paration

      ol.space-y-4
        - @recipe.steps.each_with_index do |step, index|
          li.flex.gap-4.p-4.bg-cream/50.rounded-xl.hover:bg-cream.transition-colors
            .flex-shrink-0.w-10.h-10.bg-terracotta.rounded-xl.flex.items-center.justify-center.text-white.font-bold
              = index + 1
            p.text-navy.pt-2 = step

  / Sidebar
  .space-y-6
    / Actions card
    .card.p-6
      h3.font-semibold.text-navy.mb-4 Actions
      .space-y-3
        = link_to edit_recipe_path(@recipe), class: "btn btn-primary w-full"
          span âœï¸
          span Modifier
        = link_to new_meal_plan_path(recipe_id: @recipe.id), class: "btn btn-secondary w-full"
          span ğŸ“…
          span Planifier ce repas
        = link_to recipe_path(@recipe), data: { turbo_method: :delete, turbo_confirm: "ÃŠtes-vous sÃ»r de vouloir supprimer cette recette ?" }, class: "btn btn-danger w-full"
          span ğŸ—‘ï¸
          span Supprimer

    / Info card
    .card.p-6.bg-gradient-to-br.from-cream.to-white
      h3.font-semibold.text-navy.mb-4 Informations
      .space-y-3.text-sm
        .flex.justify-between.items-center.py-2.border-b.border-cream-dark
          span.text-navy/60 CrÃ©Ã©e le
          span.font-medium.text-navy = l(@recipe.created_at, format: :long)
        .flex.justify-between.items-center.py-2.border-b.border-cream-dark
          span.text-navy/60 ModifiÃ©e le
          span.font-medium.text-navy = l(@recipe.updated_at, format: :long)
        .flex.justify-between.items-center.py-2
          span.text-navy/60 Statut
          - if @recipe.is_favorite?
            span.badge.badge-terracotta â­ Favori
          - else
            span.text-navy/50 Normal

    / Back link
    = link_to recipes_path, class: "btn btn-outline w-full"
      span â†
      span Retour aux recettes
