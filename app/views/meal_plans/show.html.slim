/ Breadcrumb
.flex.items-center.gap-2.text-sm.text-navy/60.mb-6
  = link_to "Planification", meal_plans_path, class: "hover:text-terracotta transition-colors"
  span /
  span.text-navy
    = l(@meal_plan.date, format: :long)
    |  â€”
    = @meal_plan.meal_type.capitalize

.grid.lg:grid-cols-3.gap-8

  / Main content
  .lg:col-span-2.space-y-8
    / Hero card
    .card.overflow-hidden
      - bg_class = @meal_plan.meal_type == 'breakfast' ? 'from-mustard to-mustard-dark' : @meal_plan.meal_type == 'lunch' ? 'from-sage to-sage-dark' : @meal_plan.meal_type == 'dinner' ? 'from-terracotta to-terracotta-dark' : 'from-navy to-navy-light'
      .bg-gradient-to-br.p-8.text-white.relative class=bg_class
        .absolute.top-0.right-0.opacity-10.text-9xl.transform.rotate-12
          = @meal_plan.meal_type == 'breakfast' ? 'ğŸŒ…' : @meal_plan.meal_type == 'lunch' ? 'â˜€ï¸' : @meal_plan.meal_type == 'dinner' ? 'ğŸŒ™' : 'ğŸª'
        
        .relative
          .inline-block.px-3.py-1.bg-white/20.rounded-full.text-sm.font-medium.mb-4
            = @meal_plan.meal_type.capitalize

          h1.font-display.font-bold.text-3xl.md:text-4xl.mb-4 = @meal_plan.recipe.title

          .flex.items-center.gap-2.bg-white/20.rounded-xl.px-4.py-2.inline-flex
            span ğŸ“…
            span.font-medium = l(@meal_plan.date, format: :long)

    / Recipe preview
    .card.p-8
      .flex.items-center.justify-between.mb-6
        h2.section-title.flex.items-center.gap-3
          .w-10.h-10.bg-terracotta/10.rounded-xl.flex.items-center.justify-center
            span ğŸ“–
          | La recette

        = link_to recipe_path(@meal_plan.recipe), class: "btn btn-sm btn-outline"
          | Voir la recette complÃ¨te â†’

      .grid.sm:grid-cols-2.gap-6
        .p-4.bg-cream/50.rounded-xl
          .flex.items-center.gap-2.text-navy/60.text-sm.mb-2
            span ğŸ¥•
            | IngrÃ©dients
          .font-semibold.text-navy.text-2xl
            = @meal_plan.recipe.ingredients.size

        - if @meal_plan.recipe.preparation_time
          .p-4.bg-cream/50.rounded-xl
            .flex.items-center.gap-2.text-navy/60.text-sm.mb-2
              span â±ï¸
              | Temps de prÃ©paration
            .font-semibold.text-navy.text-2xl
              = @meal_plan.recipe.preparation_time
              |  min

      / Quick ingredients list
      .mt-6
        h3.font-semibold.text-navy.mb-3 IngrÃ©dients nÃ©cessaires
        ul.grid.sm:grid-cols-2.gap-2
          - @meal_plan.recipe.ingredients.first(6).each do |ingredient|
            li.flex.items-center.gap-2.p-2.bg-cream/30.rounded-lg
              .w-5.h-5.bg-sage.rounded-full.flex.items-center.justify-center.text-white.text-xs âœ“
              span.text-sm.text-navy = ingredient
          - if @meal_plan.recipe.ingredients.size > 6
            li.text-sm.text-navy/50.p-2
              | + #{@meal_plan.recipe.ingredients.size - 6} autres...

  / Sidebar
  .space-y-6
    / Actions card
    .card.p-6
      h3.font-semibold.text-navy.mb-4 Actions
      .space-y-3
        = link_to edit_meal_plan_path(@meal_plan), class: "btn btn-primary w-full"
          span âœï¸
          span Modifier
        = link_to recipe_path(@meal_plan.recipe), class: "btn btn-secondary w-full"
          span ğŸ“–
          span Voir la recette
        = link_to meal_plan_path(@meal_plan), data: { turbo_method: :delete, turbo_confirm: "ÃŠtes-vous sÃ»r de vouloir supprimer cette planification ?" }, class: "btn btn-danger w-full"
          span ğŸ—‘ï¸
          span Supprimer

    / Date card
    .card.p-6.bg-gradient-to-br.from-cream.to-white
      h3.font-semibold.text-navy.mb-4 Date
      .text-center.p-4.bg-white.rounded-xl.shadow-inner
        .text-sm.font-medium.uppercase.tracking-wide.text-navy/50
          = l(@meal_plan.date, format: "%B %Y")
        .text-5xl.font-display.font-bold.text-terracotta.my-2
          = @meal_plan.date.day
        .text-lg.text-navy
          = l(@meal_plan.date, format: "%A")
        .mt-2.badge class="#{@meal_plan.meal_type == 'breakfast' ? 'badge-mustard' : @meal_plan.meal_type == 'lunch' ? 'badge-sage' : @meal_plan.meal_type == 'dinner' ? 'badge-terracotta' : 'bg-navy/10 text-navy'}"
          = @meal_plan.meal_type == 'breakfast' ? 'ğŸŒ…' : @meal_plan.meal_type == 'lunch' ? 'â˜€ï¸' : @meal_plan.meal_type == 'dinner' ? 'ğŸŒ™' : 'ğŸª'
          = @meal_plan.meal_type.capitalize

    / Back link
    = link_to meal_plans_path, class: "btn btn-outline w-full"
      span â†
      span Retour Ã  la planification
